/* VECTORBLOX MXP SOFTWARE DEVELOPMENT KIT
 *
 * Copyright (C) 2012-2016 VectorBlox Computing Inc., Vancouver, British Columbia, Canada.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *
 *     * Neither the name of VectorBlox Computing Inc. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * This agreement shall be governed in all respects by the laws of the Province
 * of British Columbia and by the laws of Canada.
 *
 * This file is part of the VectorBlox MXP Software Development Kit.
 *
 */


#include "lbp.h"

// Stage 0 face lbp
lbp_feat_t feat_0_face_lbp[] = {{{{5, 3}, {4, 4}}, 1, -1, {-1069223724, -12219005, 270471, -70954085, -779836433, -1917924735, 1111589567, -3145745}}, {{{4, 0}, {4, 4}}, 0, -1, {-238572918, -237911953, 570490880, -505970681, -884492113, -347430902, -771026261, -68179029}}, {{{5, 0}, {2, 2}}, 1, 0, {-19464705, -117702503, 1350699167, -2145591270, -322195202, -341843959, -634987538, -1597314898}}, {{{10, 4}, {2, 2}}, 1, 0, {1624924919, -753679741, 1069199, -612413285, 271122685, 311033994, -2092582485, -1842481}}};

// Stage 1 face lbp
lbp_feat_t feat_1_face_lbp[] = {{{{9, 0}, {2, 2}}, 0, -3, {-44049417, -141851771, -788163217, -542129785, -125437185, -1992207719, -679387019, -14200800}}, {{{4, 4}, {2, 2}}, 3, 0, {832025395, 856764691, 1497600335, -1182321389, -1023151621, -1145535829, -1143747669, -3147105}}, {{{8, 5}, {1, 1}}, 3, 0, {-421533054, -1497448019, 1122306, -1035024630, -486346669, 323715202, -347610349, -572535041}}, {{{12, 7}, {2, 2}}, 0, -2, {-523440178, 1348207262, 402717414, -30489206, -172765793, -763329876, -1142166022, -263667718}}, {{{7, 0}, {4, 4}}, 0, -2, {-169217571, 1327220499, -1862163585, -1408276083, 541352012, 85526912, 1157956045, 1861174015}}, {{{0, 10}, {1, 1}}, 2, 0, {-195300369, -456308709, -1073102113, -1609905598, -205007026, 2051047723, -753673746, -502531933}}};

// Stage 2 face lbp
lbp_feat_t feat_2_face_lbp[] = {{{{0, 0}, {4, 4}}, 0, -6, {-605291521, 176402027, -716969701, 193167941, -346830641, 2033133581, -379850785, 1060887503}}, {{{9, 3}, {2, 2}}, 3, -3, {-83925633, -237767489, -125730481, -544484901, 1885536511, -263714422, 1977157567, -140543317}}, {{{17, 9}, {1, 1}}, 4, 0, {-35653641, 1610187151, -2116726380, -82339035, -557581564, 1371760649, -994000524, -181403993}}, {{{5, 9}, {2, 2}}, 5, 0, {-75508225, -613035706, 1073860609, -553432286, -1072246275, 1409351936, -483288293, 1162936388}}, {{{5, 0}, {2, 2}}, 5, 0, {-679478305, -413606351, -1874798259, -590989929, -1710651203, -1132361709, -366817622, -1459705109}}, {{{0, 10}, {2, 2}}, 0, -4, {-69738761, -686230654, 1359038153, -762912574, -718315073, -564083971, -1073560798, -213224857}}, {{{8, 5}, {2, 2}}, 4, 0, {-766787804, -617000677, -1073462899, -951742444, -1339956685, -1283030574, -481830289, -1223761146}}, {{{3, 5}, {2, 2}}, 0, -5, {831616256, 838456603, -2130500596, -678346585, 1665786031, -1702799221, -478076279, -1056097}}};

// Stage 3 face lbp
lbp_feat_t feat_3_face_lbp[] = {{{{8, 0}, {2, 2}}, 0, -4, {-184287315, -615648785, -788446865, -539946098, -192157185, -237317933, -108531456, -15872}}, {{{12, 5}, {2, 2}}, 3, 0, {79743374, 1977074655, 285463799, -147890097, -108283730, -75325286, -661409394, -70255621}}, {{{3, 1}, {4, 4}}, 3, 0, {-791086406, -765497889, 4242195, 818219907, -1178101345, -505114426, -139591797, -296517}}, {{{17, 0}, {1, 1}}, 3, -1, {-16778145, 2080374782, -1107304869, -71303233, -8508416, -318898378, -1707928528, -1191445473}}, {{{8, 7}, {1, 1}}, 0, -4, {-337647189, -2002860321, 1212293378, -1060650563, -762730205, -1040019328, -637335009, -540079157}}, {{{0, 11}, {2, 2}}, 2, 0, {-784870145, -1664970113, 352420588, -759002934, -116539305, 2050719753, -836007358, -47201701}}, {{{1, 3}, {4, 4}}, 0, -4, {-29327532, 1351653776, -738588067, -307166825, -1413111679, -75247487, -1572107573, -1422163445}}, {{{6, 0}, {4, 4}}, 3, 0, {-344874523, -773224234, -535198113, -607024811, -1048416004, -410482263, 1892417728, -809688945}}};

// Stage 4 face lbp
lbp_feat_t feat_4_face_lbp[] = {{{{5, 3}, {2, 2}}, 0, -1, {-1182148177, 860969365, -603171335, 865194331, -801050466, -1623078268, -385311555, -1210320423}}, {{{10, 6}, {1, 1}}, 1, 0, {-220206353, -267400437, 1208058438, 1372557781, 16924743, 1883242563, -666770757, 1900542958}}, {{{7, 3}, {4, 4}}, 0, -1, {-1071326228, -33942625, -821972545, -45117070, 809542112, -68476861, 1669609611, -71591805}}, {{{14, 14}, {2, 2}}, 1, 0, {-244059145, -1041526383, 289513664, -184053230, -880045169, -1996479733, 291667968, -711727742}}, {{{6, 1}, {1, 1}}, 1, 0, {-85012489, -1646264329, -1, -1711734793, -513, -196626, -65537, -1162150145}}, {{{9, 11}, {2, 2}}, 0, -1, {-109396620, -183500780, 88129759, -16412663, -66979983, -218103792, -888024325, 758066239}}, {{{0, 11}, {1, 1}}, 0, -1, {-212348481, 1141604807, 1393573970, 1616039961, 1670107923, 1277995, -318132000, -497321951}}, {{{10, 13}, {2, 2}}, 1, 0, {1998046763, -15785453, 956465447, -1920400321, 38581171, -1442594814, 438561423, 258696047}}, {{{6, 1}, {2, 2}}, 1, 0, {1616153071, -279882785, 1170573767, 135938126, 696369579, -1425964957, -115244209, -492844150}}};

// Stage 5 face lbp
lbp_feat_t feat_5_face_lbp[] = {{{{2, 10}, {1, 1}}, 0, -1, {-461374469, -389414637, -1861283635, 1857859650, -903634805, -363102157, -1330660716, -18685388}}, {{{5, 0}, {1, 1}}, 1, 0, {-85002273, -745098465, -787773279, -682851630, -476907363, -116817750, -223831362, -1967605368}}, {{{16, 9}, {1, 1}}, 0, -1, {-110101673, -232861043, -2145807649, -117001613, -217329003, -880041589, -16149936, -5163}}, {{{11, 11}, {1, 1}}, 1, 0, {271772308, 547370876, -1073828177, 461242361, 1035460526, -1968423051, -1459647281, 230684155}}, {{{8, 0}, {4, 4}}, 1, 0, {1564465151, 982702127, -1878926633, -16133760, 1481332038, 162189448, 2067864923, 1307531931}}, {{{3, 17}, {1, 1}}, 0, -1, {-757076737, -1038155763, 444502, 1511051926, 1686888954, -402420726, 134748330, -260908817}}, {{{8, 4}, {1, 1}}, 0, -1, {-522736862, 80453847, -1040086006, 1112151362, 1930556655, -260013952, -75372379, -170937397}}, {{{8, 8}, {4, 4}}, 1, 0, {-788400257, -100456189, -2030018304, -332984294, -779363078, -1631878126, -1448613789, -1442645466}}, {{{8, 13}, {1, 1}}, 0, -1, {547096796, 1432354947, -603896747, 524390749, -671051347, -2130667392, -2109657203, -1425276787}}};

// Stage 6 face lbp
lbp_feat_t feat_6_face_lbp[] = {{{{0, 4}, {2, 2}}, 0, -1, {142544499, -11418351, 1937987731, -39255719, 2064534615, -215956991, -79070789, -15763029}}, {{{0, 0}, {1, 1}}, 1, 0, {-72355845, -429723934, -1073774984, -958224736, 661913563, 231145059, -402718721, -708885249}}, {{{10, 7}, {1, 1}}, 0, -1, {-204773841, -42888673, 32943, -83417914, -1287515323, 1378025507, -1555864801, 1930674691}}, {{{6, 1}, {4, 4}}, 1, 0, {1625587956, -616179431, -534936866, -586823027, 1731240359, -629126016, -1543495434, -285479733}}, {{{4, 13}, {2, 2}}, 1, 0, {2114177467, 1472956127, -1727163489, 1605829715, -1433350983, 1216891909, 475159807, 260521999}}, {{{2, 15}, {1, 1}}, 0, -1, {-96216209, -934231586, 4739450, -501702140, -804669326, -129349504, -266850112, -234691822}}, {{{13, 17}, {1, 1}}, 0, -1, {-1016617165, 437342546, 277059600, -1786539773, -1190348621, -889118380, -762736512, -745682655}}, {{{14, 1}, {2, 2}}, 1, 0, {-791340835, 949205909, 84197399, -2065333181, -121263951, -1999976311, 714737726, -1461788545}}, {{{12, 1}, {1, 1}}, 1, 0, {-217582633, -74349926, -1862254465, -78171829, -1291800387, -89980785, 1208609279, -1893895067}}};

// Stage 7 face lbp
lbp_feat_t feat_7_face_lbp[] = {{{{0, 9}, {1, 1}}, 0, -1, {-1, -755499025, -269484293, -261947410, -16779441, -285474945, -301989889, -151257121}}, {{{16, 15}, {1, 1}}, 1, 0, {-8391709, -867540693, -1858006768, -708456366, -606870557, 1091010752, 1370177872, -710941514}}, {{{10, 3}, {2, 2}}, 0, -1, {1372785663, -716970621, 1438684215, -8283983, 1120406255, -796390228, -83207461, -70368821}}, {{{9, 4}, {1, 1}}, 1, 0, {-346100978, -258878753, -1324235802, -163319468, -234762205, 1212727560, -444480960, -70264150}}, {{{4, 0}, {2, 2}}, 1, 0, {-116358881, -603516132, -804016111, -586886767, -1274377341, -16629246, -243099253, -2004296021}}, {{{6, 11}, {1, 1}}, 0, -1, {-461110700, -582500081, 897912965, 1439105073, 274727108, -1506270705, 329021913, -336645265}}, {{{17, 10}, {1, 1}}, 0, -1, {-380633121, -1056729088, 83951946, -1073510208, -108797117, -930185047, 1631035392, -453055788}}, {{{12, 9}, {1, 1}}, 1, 0, {-77597733, -229441455, 1141903379, 3325964, -527859282, -1557917676, -1828519765, -1878533877}}, {{{3, 7}, {2, 2}}, 1, 0, {-82711136, 1901086165, -2133386930, -715697785, 1917633457, 687964307, -2130406780, 1171624269}}};

// Stage 8 face lbp
lbp_feat_t feat_8_face_lbp[] = {{{{12, 0}, {1, 1}}, 0, -1, {-208864395, -137178585, -2147313637, -10731361, -129267467, -1077182424, -1438888964, -1080277964}}, {{{0, 7}, {1, 1}}, 1, 0, {-285227265, -393002363, 1343111610, -1070563069, -492728945, -1690146816, -1019035765, -407110753}}, {{{14, 17}, {1, 1}}, 0, -1, {-212871247, 495521800, -801013359, 994825344, 975671431, 436273162, 453203076, -607395647}}, {{{11, 12}, {2, 2}}, 1, 0, {-648020737, 1493930181, 1078009882, 1016090628, -1071675137, 838992004, 729883307, 2863754}}, {{{7, 6}, {1, 1}}, 1, 0, {-179590745, 43225931, -771749358, -146695921, 1611374778, 85590018, 1124663342, -678714682}}, {{{11, 10}, {1, 1}}, 0, -1, {-788016455, -1556328192, 285310999, 970141725, -1199332688, 9076872, 771859096, 686803359}}, {{{5, 7}, {1, 1}}, 0, -1, {-1844317903, -198589992, 100765974, -171634259, -259406720, -394215296, -1023344639, -584349443}}, {{{9, 6}, {1, 1}}, 1, 0, {1676651022, -1554935421, -1073479666, -833372149, 1610862897, 1392541832, -485967360, -640695989}}, {{{16, 4}, {1, 1}}, 0, -1, {109289917, 483328273, -2130689589, 458605633, -1073100358, -1467772543, -1004371832, -1967412513}}};

// Stage 9 face lbp
lbp_feat_t feat_9_face_lbp[] = {{{{17, 8}, {1, 1}}, 0, -1, {-169, 1860693991, -134218188, -33595521, -150997129, -33554435, -138414224, -167772173}}, {{{2, 0}, {4, 4}}, 1, 0, {-115803201, -1689184809, 487143057, 596710793, -1928820165, -587165188, -570057813, -1144473057}}, {{{12, 7}, {1, 1}}, 0, -1, {1085687006, 1524089251, -1601666801, 570574991, -243150556, -611737085, -267074595, -10442101}}, {{{4, 2}, {4, 4}}, 1, 0, {-795555088, -16658427, 83, -15745013, 404982427, -2130182144, -275084385, -1347704822}}, {{{0, 0}, {2, 2}}, 1, 0, {-667248201, -523857720, -2138550057, -1484512768, -1576406041, -1465251646, 1653246143, -75538333}}, {{{9, 14}, {1, 1}}, 0, -1, {1976089564, -673893986, -1575909101, -1646406439, 1539567791, -654179830, -1442117123, 522913848}}, {{{1, 15}, {1, 1}}, 0, -1, {-36318354, -251018760, 134762512, 42119194, -111594748, -234190848, 1141030984, 1347603322}}, {{{6, 14}, {2, 2}}, 1, 0, {56887666, 38982933, -720285381, 251986703, 1898577984, -1418608101, 973078555, 268116891}}, {{{8, 6}, {1, 1}}, 0, -1, {-276050001, 1188938311, 1694846212, -1039366011, -2147450745, -2147377024, -419323325, -75281778}}};

// Stage 10 face lbp
lbp_feat_t feat_10_face_lbp[] = {{{{7, 0}, {2, 2}}, 0, -1, {-2097153, -258, -135185, -268435474, -131073, -16401, -2134, -2101298}}, {{{14, 14}, {2, 2}}, 1, 0, {-157287981, 44269587, -885796416, 664491248, -335429190, -1055161193, 1359103184, -793382687}}, {{{3, 12}, {2, 2}}, 0, -1, {-204483845, -585940173, 285631642, 1359216714, 1209715102, 1519681561, -771221888, 1583039052}}, {{{12, 8}, {1, 1}}, 1, 0, {-226328357, -100171769, 69895, 1077942277, -117201939, -83885535, -745493877, -251548893}}, {{{8, 12}, {1, 1}}, 1, 0, {1644429940, -1326562619, -2080358061, 937238913, 859844736, -452976502, -1652477285, -1343775829}}, {{{17, 12}, {1, 1}}, 0, -1, {-478677281, -355303291, -1811897468, -1005628582, -250629833, 1233846402, -486500863, -1026586461}}, {{{15, 2}, {1, 1}}, 0, -1, {-800810924, -803995627, 1358954651, 1573409473, -798762347, -402554744, 1610662040, 730343563}}, {{{0, 4}, {1, 1}}, 1, 0, {-854769105, -1052505088, -2147385081, -711852032, 167792801, 1241546756, -125625534, -270963977}}, {{{16, 0}, {1, 1}}, 1, 0, {-1644429827, -540675, -1091634691, -1077952641, -123852, -25170051, 2042277152, -1774981185}}};

// Stage 11 face lbp
lbp_feat_t feat_11_face_lbp[] = {{{{6, 8}, {1, 1}}, 0, -1, {-201590797, -689635329, -17906187, -588382209, -310970377, 1843724278, 1465242693, 1153811967}}, {{{2, 4}, {1, 1}}, 1, 0, {290460210, 1364431248, 278557, 1494290497, 295176394, -796917752, 276838539, 1529675868}}, {{{2, 14}, {2, 2}}, 0, -1, {-493296898, -712806000, -2147479470, 1880637458, -2147155832, -620035960, -2146417970, -220576601}}, {{{9, 2}, {2, 2}}, 1, 0, {-780009489, -1862254463, -2147481263, -1072578559, 331366553, -1065351040, 1514152261, -1055960497}}, {{{10, 10}, {2, 2}}, 1, 0, {1364297298, -528201660, 268435524, -176107264, -225932458, 277088384, 1074106554, -1154227793}}, {{{9, 12}, {2, 2}}, 0, -1, {-25231627, -47145835, -268540737, -311482961, 998241781, -59429505, 2147446623, -1355078609}}, {{{5, 13}, {2, 2}}, 0, -1, {1208530330, 1381442067, 16789761, 67113287, 1207996457, -377454464, 42018826, 176883785}}, {{{17, 1}, {1, 1}}, 1, 0, {-217474995, 1392738433, 1225031940, 1225850904, -1040010744, 1653088386, -1207873016, 839113771}}, {{{4, 8}, {1, 1}}, 1, 0, {50835728, -1820295039, -1861992305, -956235711, 319990416, -796254208, -2138996479, -710434612}}};

// Stage 12 face lbp
lbp_feat_t feat_12_face_lbp[] = {{{{0, 8}, {1, 1}}, 0, -3, {-287318301, -663355650, -152051970, -1295847426, -436207802, 1166016383, -285247522, -1061363851}}, {{{2, 3}, {1, 1}}, 4, 0, {1392558288, 1359347928, 16405, -788193216, 1241530504, 536871040, 713, 1219232065}}, {{{11, 14}, {2, 2}}, 4, 0, {1560338947, 312478464, -269484109, 464238200, -1692472407, 523108144, 1983860543, 764013519}}, {{{0, 17}, {1, 1}}, 4, 0, {-939592118, -676352470, -285233554, 372014951, -2033211836, -2060099723, -58854249, 1647441755}}, {{{4, 14}, {2, 2}}, 0, -4, {1226736883, 1590492927, 2130640587, 268422911, -860961721, -857805716, -1166215505, 1161807207}}, {{{0, 14}, {1, 1}}, 5, 0, {1610420139, 1726938750, -218104089, -1844248593, 2013134160, 1433894783, 1584871765, -204259717}}, {{{6, 11}, {2, 2}}, 1, -4, {1350567260, -805273339, 16, -1459564541, 33672, 301989888, -2143289335, 1808745995}}, {{{10, 12}, {2, 2}}, 3, 0, {-2126380891, -805289984, 83920904, 268894341, 33685632, -2130673661, 25364514, 177963018}}};

lbp_stage_t face_lbp[] = {{feat_0_face_lbp, 4, 0}, {feat_1_face_lbp, 6, 0}, {feat_2_face_lbp, 8, 0}, {feat_3_face_lbp, 8, 0}, {feat_4_face_lbp, 9, 0}, {feat_5_face_lbp, 9, 0}, {feat_6_face_lbp, 9, 0}, {feat_7_face_lbp, 9, 0}, {feat_8_face_lbp, 9, 0}, {feat_9_face_lbp, 9, 0}, {feat_10_face_lbp, 9, 0}, {feat_11_face_lbp, 9, 0}, {feat_12_face_lbp, 8, 0}};

int face_lbp_max_stage = 13;
