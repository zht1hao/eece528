GCC := gcc
MPICC := mpicc
GENERAL_FLAGS := -std=c99 -O3

64_FLAG := -D DIM=64
256_FLAG := -D DIM=256
1024_FLAG := -D DIM=1024
2048_FLAG := -D DIM=2048
4096_FLAG := -D DIM=4096

MPI_SOURCE := gausElimMPI.c

all: p 

p: p_64 p_256 p_1024 p_2048 p_4096

p_64:
	$(MPICC) $(GENERAL_FLAGS) $(64_FLAG) $(MPI_SOURCE) -o mpi_64
p_256:
	$(MPICC) $(GENERAL_FLAGS) $(256_FLAG) $(MPI_SOURCE) -o mpi_256
p_1024:
	$(MPICC) $(GENERAL_FLAGS) $(1024_FLAG) $(MPI_SOURCE) -o mpi_1024
p_2048:
	$(MPICC) $(GENERAL_FLAGS) $(2048_FLAG) $(MPI_SOURCE) -o mpi_2048
p_4096:
	$(MPICC) $(GENERAL_FLAGS) $(4096_FLAG) $(MPI_SOURCE) -o mpi_4096

